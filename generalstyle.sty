\usepackage{fontspec}
\usepackage{mathtools, amssymb}
\usepackage{amsthm}
\usepackage{enumitem}
\usepackage{tikz-cd}
\usepackage[ngerman]{babel}
\usepackage{xcolor}
\usepackage[hidelinks]{hyperref}

% Loading Libertinus for regular and math font
\usepackage{unicode-math}
\setmainfont{Libertinus Serif}
\setmathfont{Libertinus Math}
% changing the font for titles (title, section, subsection, etc.) to Libertinus
\newfontfamily\headingfont[]{Libertinus Sans}
\addtokomafont{disposition}{\headingfont}
\addtokomafont{subject}{\headingfont}

% prevents breaking inline math around binary or relationship symbols
\binoppenalty=\maxdimen
\relpenalty=\maxdimen

\hypersetup{
    colorlinks,
    linkcolor={red!50!black},
    citecolor={blue!50!black},
    urlcolor={blue!80!black}
}

\setlist[enumerate, 1]{leftmargin=*}
\setlist[itemize, 1]{leftmargin=*}

\tikzcdset{
arrow style=tikz,
diagrams={>={Classical TikZ Rightarrow[sharp]}}
}

\newcounter{everything}
\theoremstyle{definition}
\newtheorem*{claim*}{Behauptung}
\newtheorem*{corollary*}{Korollar}
\newtheorem*{definition*}{Definition}
\newtheorem*{example*}{Beispiel}
\newtheorem*{lemma*}{Lemma}
\newtheorem*{observation*}{Beobachtung}
\newtheorem*{proposition*}{Proposition}
\newtheorem*{recall*}{Erinnerung}
\newtheorem*{remark*}{Bemerkung}
\newtheorem*{theorem*}{Satz}
\newtheorem*{warning*}{Warnung}
\newtheorem{claim}[everything]{Behauptung}
\newtheorem{corollary}[everything]{Korollar}
\newtheorem{definition}[everything]{Definition}
\newtheorem{example}[everything]{Beispiel}
\newtheorem{lemma}[everything]{Lemma}
\newtheorem{observation}[everything]{Beobachtung}
\newtheorem{proposition}[everything]{Proposition}
\newtheorem{recall}[everything]{Erinnerung}
\newtheorem{remark}[everything]{Bemerkung}
\newtheorem{theorem}[everything]{Satz}
\newtheorem{warning}[everything]{Warnung}

\newcommand{\divides}{\mathrel{|}}
\newcommand{\suchthat}{\,|\,}
\newcommand{\suchthatscale}{\;\middle|\;}

\newcommand{\complex}{\mathbb{C}}
\newcommand{\integer}{\mathbb{Z}}
\newcommand{\generated}[1]{\left\langle #1 \right\rangle}
\newcommand{\GL}[2]{\operatorname{GL}_{#1}(#2)}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\im}{im}
\newcommand{\matrices}[2]{\operatorname{M}_{#1}(#2)}
\newcommand{\mnatrices}[3]{\operatorname{M}(#1 \times #2, #3)}
\newcommand{\naturals}{\mathbb{N}} % \natural is already defined; redefining \natural is ignored since switching to Libertinus
\DeclareMathOperator{\rad}{rad}
\newcommand{\rational}{\mathbb{Q}}
\newcommand{\real}{\mathbb{R}}

\DeclareMathOperator{\ggT}{ggT}
\newcommand{\id}{\operatorname{id}}

\newcommand{\repmatrix}[3]{\operatorname{M}_{#1, #2, #3}}

\newcommand{\basis}[1]{\mathcal{#1}}
\newcommand{\class}[1]{\overline{#1}}