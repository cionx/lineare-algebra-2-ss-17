\usepackage{fontspec}
\usepackage{amsmath, amssymb, mathtools}
\usepackage{amsthm}
\usepackage{enumitem}
\usepackage{tikz-cd}
\usepackage[ngerman]{babel}
\usepackage{xcolor}
\usepackage[hidelinks]{hyperref}

% Loading Libertinus for regular and math font
\usepackage{unicode-math}
\setmainfont{Libertinus Serif}
\setmathfont{Libertinus Math}

% prevents breaking inline math around binary or relationship symbols
\binoppenalty=\maxdimen
\relpenalty=\maxdimen

\hypersetup{
    colorlinks,
    linkcolor={red!50!black},
    citecolor={blue!50!black},
    urlcolor={blue!80!black}
}

\setlist[enumerate, 1]{leftmargin=*}
\setlist[itemize, 1]{leftmargin=*}

\tikzcdset{
arrow style=tikz,
diagrams={>={Classical TikZ Rightarrow[sharp]}}
}

\newcounter{everything}
\theoremstyle{definition}
\newtheorem*{claim*}{Behauptung}
\newtheorem*{corollary*}{Korollar}
\newtheorem*{definition*}{Definition}
\newtheorem*{example*}{Beispiel}
\newtheorem*{lemma*}{Lemma}
\newtheorem*{observation*}{Beobachtung}
\newtheorem*{proposition*}{Proposition}
\newtheorem*{recall*}{Erinnerung}
\newtheorem*{remark*}{Bemerkung}
\newtheorem*{theorem*}{Satz}
\newtheorem*{warning*}{Warnung}
\newtheorem{claim}[everything]{Behauptung}
\newtheorem{corollary}[everything]{Korollar}
\newtheorem{definition}[everything]{Definition}
\newtheorem{example}[everything]{Beispiel}
\newtheorem{lemma}[everything]{Lemma}
\newtheorem{observation}[everything]{Beobachtung}
\newtheorem{proposition}[everything]{Proposition}
\newtheorem{recall}[everything]{Erinnerung}
\newtheorem{remark}[everything]{Bemerkung}
\newtheorem{theorem}[everything]{Satz}
\newtheorem{warning}[everything]{Warnung}

\newcommand{\suchthat}{\,|\,}
\newcommand{\suchthatscale}{\;\middle|\;}

\newcommand{\complex}{\mathbb{C}}
\newcommand{\integer}{\mathbb{Z}}
\DeclareMathOperator{\im}{im}
\newcommand{\matrices}[2]{\operatorname{M}_{#1}(#2)}
\newcommand{\mnatrices}[3]{\operatorname{M}(#1 \times #2, #3)}
% \natural is already defined and redefining the command is somehow ignored since switching to libertinus
\newcommand{\naturals}{\mathbb{N}}
\newcommand{\rational}{\mathbb{Q}}
\newcommand{\real}{\mathbb{R}}

\DeclareMathOperator{\ggT}{ggT}
\newcommand{\id}{\operatorname{id}}